## Class: VocabularyTerm

An entry in a vocabulary table.

## Class: Feature

Wrapper for results of Table.find_associations()

## Class: DerivaML

Base class for ML operations on a Deriva catalog.  This class is intended to be used as a base class on which
more domain specific interfaces are built.

### Function: feature_columns

Return the names of all  the columns that define the value of a feature.
**Returns**: return: set of feature column names.

### Function: asset_columns

Return the names of all  the columns of a feature that are assets.
**Returns**: return:  set of asset column names.

### Function: term_columns

Return the names of all  the columns of a feature that are controlled vocabulary terms.
**Returns**: return: set of term column names.

### Function: value_columns

Return the names of all  the columns of a feature that are scale  values.
**Returns**: return: set of value column names.

### Function: feature_record_class

"
Create a pydantic model for entries into the specified feature table
**Returns**: return: A Feature class that can be used to create instances of the feature.

### Function: __init__

- **param hostname**: Hostname of the Deriva server.
- **param catalog_id**: Catalog ID.
- **param domain_schema**: Schema name for domain specific tables and relationships.
- **param cache_dir**: Directory path for caching data downloaded from the Deriva server as bdbag.
- **param working_dir**: Directory path for storing data used by or generated by any computations.
- **param model_version**: 

### Function: pathBuilder

Get a new instance of a pathbuilder object.
**Returns**: return: pathbuilder object.

### Function: dataset_version

Retrieve the version of the specified dataset.
- **param dataset_rid**: 
**Returns**: return: A tuple with the semantic version of the dataset.

### Function: increment_dataset_version

Increment the version of the specified dataset.
- **param dataset_rid**: RID to a dataset
- **param component**: Which version of the dataset to increment.
**Returns**: return: new version of the dataset.
:raise DerivaMLException: if provided RID is not to a dataset.

### Function: domain_path

Get a new instance of a pathBuilder object to the domain schema.
**Returns**: return: A new instance of a pathBuilder path to the domain schema.

### Function: _get_table

Return the table object corresponding to the given table name. If the table name appears in more
than one schema, return the first one you find.

- **param table**: A ERMRest table object or a string that is the name of the table.
**Returns**: return: Table object.

### Function: table_path

Return a local file path in which to place a CSV to add values to a table on upload.

- **param table**: 
**Returns**: return:

### Function: asset_directory

Return a local file path in which to place a files for an asset table.  This needs to be kept in sync with
bulk_upload specification
- **param table**: 
- **param prefix**: Location of where to place files.  Defaults to execution_assets_path.

### Function: chaise_url

Return a Chaise URL to the specified table.

- **param table**: Table to be browsed
**Returns**: return: URL to the table in Chaise format.

### Function: cite

Return a citation URL for the provided entity.

- **param entity**: A dict that contains the column values for a specific entity.
**Returns**: return:  The PID for the provided entity.

### Function: user_list

Return a list containing user information of current catalog.

**Returns**: return: a list of dictionaries containing user information.

### Function: resolve_rid

Return a named tuple with information about the specified RID.

- **param rid**: 
**Returns**: return:

### Function: retrieve_rid

Return a dictionary that represents the values of the specified RID.
- **param rid**: 
**Returns**: return: A dictionary that represents the values of the specified RID.

### Function: create_vocabulary

Create a controlled vocabulary table with the given vocab name.
- **param vocab_name**: Name of the controlled vocabulary table.
- **param comment**: Description of the vocabulary table.
- **param schema**: Schema in which to create the controlled vocabulary table.  Defaults to domain_schema.
**Returns**: return:

### Function: is_vocabulary

Check if a given table is a controlled vocabulary table.

param: table_name: A ERMRest table object or the name of the table.
returns: Table object if the table is a controlled vocabulary, False otherwise.

### Function: create_asset

Create an asset table with the given asset name.

- **param asset_name**: Name of the asset table.
- **param comment**: Description of the asset table.
- **param schema**: Schema in which to create the asset table.  Defaults to domain_schema.
**Returns**: return: Table object for the asset table.

### Function: create_feature

Create a new feature that can be associated with a table. The feature can associate a controlled
vocabulary term, an asset, or any other values with a specific instance of an object and  execution.

- **param feature_name**: Name of the new feature to be defined
- **param target_table**: table name or object on which the feature is to be associated
- **param terms**: List of controlled vocabulary terms that will be part of the feature value
- **param assets**: List of asset table names or objects that will be part of the feature value
- **param metadata**: List of other value types that are associated with the feature
- **param optional**: List of columns that are optional in the feature
- **param comment**: 
**Returns**: return: A Feature class that can be used to create instances of the feature.
:raise DerivaException: If the feature cannot be created.

### Function: feature_record_class

"
Create a pydantic model for entries into the specified feature table.  For information on how to
See the pydantic documentation for more details about the pydantic model.

- **param table**: table name or object on which the feature is to be associated
- **param feature_name**: name of the feature to be created
**Returns**: return: A Feature class that can be used to create instances of the feature.

### Function: lookup_feature

Lookup the named feature associated with the provided table.
- **param table**: 
- **param feature_name**: 
**Returns**: return: A Feature class that represents the requested feature.
:raise DerivaMLException: If the feature cannot be found.

### Function: find_features

List the names of the features in the specified table.

- **param table**: The table to find features for.
**Returns**: return: An iterable of FeatureResult instances that describe the current features in the table.

### Function: add_features

Add a set of new feature values to the catalog.
**Returns**: return: Number of attributes added

### Function: list_feature_values

Return a datapath resultset containing all values of a feature associated with a table.
- **param table**: 
- **param feature_name**: 
**Returns**: return:

### Function: create_dataset

Create a new dataset from the specified list of RIDs.
- **param ds_type**: One or more dataset types.  Must be a term from the DatasetType controlled vocabulary.
- **param description**: Description of the dataset.
- **param execution_rid**: Execution under which the dataset will be created.
- **param version**: Version of the dataset.
**Returns**: return: New dataset RID.

### Function: find_datasets

Returns a list of currently available datasets.
**Returns**: return:

### Function: delete_dataset

Delete a dataset from the catalog.
- **param dataset_rid**: RID of the dataset to delete.
- **param recurse**: If True, delete the dataset along with any nested datasets.
**Returns**: return:

### Function: list_dataset_element_types

Return the list of tables that can be included as members of a dataset.
**Returns**: return: An iterable of Table objects that can be included as an element of a dataset.

### Function: add_dataset_element_type

A dataset is a heterogeneous collection of objects, each of which comes from a different table. This
routine makes it possible to add objects from the specified table to a dataset.

- **param element**: Name or the table or table object that is to be added to the dataset.
**Returns**: return: The table object that was added to the dataset.

### Function: list_dataset_parents

Given a dataset RID, return a list of RIDs of the parent datasets.
- **param dataset_rid**: 
**Returns**: return: RID of the parent dataset.

### Function: list_dataset_children

Given a dataset RID, return a list of RIDs of any nested datasets.
- **param dataset_rid**: 
**Returns**: return: list of RIDs of nested datasets.

### Function: list_dataset_members

Return a list of entities associated with a specific dataset.
- **param dataset_rid**: 
- **param recurse**: If this is a nested dataset, list the members of the contained datasets

**Returns**: return: Dictionary of entities associated with a specific dataset.  Key is the table from which the elements
were taken.

### Function: add_dataset_members

Add additional elements to an existing dataset.

- **param dataset_rid**: RID of dataset to extend or None if new dataset is to be created.
- **param members**: List of RIDs of members to add to the  dataset.
- **param validate**: Check rid_list to make sure elements are not already in the dataset.
**Returns**: return:

### Function: add_term

Creates a new control vocabulary term in the control vocabulary table.

Args:
- table_name (str): The name of the control vocabulary table.
- term_name (str): The name of the new control vocabulary.
- description (str): The description of the new control vocabulary.
- synonyms (List[str]): Optional list of synonyms for the new control vocabulary. Defaults to an empty list.
- exist_ok (bool): Optional flag indicating whether to allow creation if the control vocabulary name
already exists. Defaults to True.

Returns:
- str: The RID of the newly created control vocabulary.

Raises:
- EyeAIException: If the control vocabulary name already exists and exist_ok is False.

### Function: lookup_term

Given a term name, return the vocabulary record.  Can provide either the term name
or a synonym for the term.  Generate an exception if the term is not in the vocabulary.

- **param table**: The name of the controlled vocabulary table or a ERMrest table object..
- **param term_name**: The name of the term to look up.
**Returns**: return: The entry the associated term or synonym.
:raises DerivaException: If the schema or vocabulary table doesn't exist, or if the term is not
found in the vocabulary.

### Function: find_vocabularies

Return a list of all the controlled vocabulary tables in the domain schema.

Returns:
- List[str]: A list of table names representing controlled vocabulary tables in the schema.

### Function: list_vocabulary_terms

Return an list of terms that are in a vocabulary table.

- **param table**: The name of the controlled vocabulary table or a ERMrest table object.
**Returns**: return: The list of terms that are in a vocabulary table.
:raises DerivaMLException: If the schema or vocabulary table doesn't exist, or if the table is not
a controlled vocabulary.

### Function: download_dataset_bag

Given a RID to a dataset, or a MINID to an existing bag, download the bag file, extract it and validate
that all the metadata is correct

- **param bag**: The RID of a dataset or a minid to an existing bag.
- **param materialize**: Materalize the bag, rather than just downloading it.
- **param execution_rid**: 
**Returns**: return: the location of the unpacked and validated dataset bag and the RID of the bag

### Function: _download_dataset_bag

Given a RID to a dataset, or a MINID to an existing bag, download the bag file, extract it and validate
that all the metadata is correct

- **param dataset_rid**: The RID of a dataset or a minid to an existing bag.
**Returns**: return: the location of the unpacked and validated dataset bag and the RID of the bag

### Function: _materialize_dataset_bag

Materialize a dataset bag into a local directory
- **param bag**: A MINID to an existing bag or a RID of the dataset that should be downloaded.
- **param execution_rid**: RID of the execution for which this bag should be materialized. Used to update status.
**Returns**: return:

### Function: download_asset

Download an asset from a URL and place it in a local directory.

- **param asset_url**: URL of the asset.
- **param dest_filename**: Destination filename.
**Returns**: return: A  Path object to the downloaded asset.

### Function: upload_asset

Upload the specified file into Hatrac and update the associated asset table.
- **param file**: path to the file to upload.
- **param table**: Name of the asset table
- **param kwargs**: Keyword arguments for values of additional columns to be added to the asset table.
**Returns**: return:

### Function: upload_assets

Upload assets from a directory. This routine assumes that the current upload specification includes a
configuration for the specified directory.  Every asset in the specified directory is uploaded

- **param**: 
- assets_dir (str): Directory containing the assets to upload.

**Returns**: returns:
- dict: Results of the upload operation.

raises:
- DerivaMLException: If there is an issue uploading the assets.

### Function: _update_status

Update the status of an execution in the catalog.

Args:
- **param new_status**: New status.
- **param status_detail**: Details of the status.
- **param execution_rid**: Resource Identifier (RID) of the execution.

### Function: upload_execution_configuration

Upload execution configuration to Execution_Metadata table with Execution Metadata Type = Execution_Config.

Args:
- config_file (str): Path to the configuration file.
- desc (str): Description of the configuration.

Raises:
- DerivaMLException: If there is an issue uploading the configuration.

### Function: download_execution_configuration

Create an ExecutionConfiguration object from a catalog RID that points to a JSON representation of that
configuration in hatrac

- **param configuration_rid**: RID that should be to an asset table that refers to an execution configuration
**Returns**: return: A ExecutionConfiguration object for configured by the parameters in the configuration file.

### Function: map_type

Map a deriva type into a pydantic model type.
- **param c**: column to be mapped
**Returns**: return: pydantic model type
